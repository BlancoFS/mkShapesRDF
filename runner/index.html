<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Runner - mkShapesRDF</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Runner";
        var mkdocs_page_input_path = "runner.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> mkShapesRDF
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Framework</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Runner</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#mkShapesRDF.shapeAnalysis.runner.RunAnalysis.splitSamples">splitSamples()</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#mkShapesRDF.shapeAnalysis.runner.RunAnalysis.__init__">__init__()</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-main-function">The main function:</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#mkShapesRDF.shapeAnalysis.runner.RunAnalysis.run">run()</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../config/">Configuration Folder Structure</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">mkShapesRDF</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Framework &raquo;</li>
      <li>Runner</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="documentation-for-runner">Documentation for <code>Runner</code></h1>


<div class="doc doc-object doc-function">



<h2 id="mkShapesRDF.shapeAnalysis.runner.RunAnalysis.splitSamples" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mkShapesRDF</span><span class="o">.</span><span class="n">shapeAnalysis</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">RunAnalysis</span><span class="o">.</span><span class="n">splitSamples</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="n">useFilesPerJob</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h2>


  <div class="doc doc-contents first">
  
      <p>static methods, takes a dictionary of samples and split them based on their weights and max num. of files</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>samples</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dictionary of samples</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>useFilesPerJob</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>if you want to further split the samples based on max num. of files. Defaults to True.</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>list of tuples</code>
          </td>
          <td><p>each tuple will have a lenght of 5 (6 if subsamples are present), where the first element is the name of the sample, the second the list of files, the third the weight, and the fourth the index of this tuple compared to the other tuples of the same sample type, the fifth will be the isData flag (True if the sample is data, False otherwise). If subsamples are present, the sixth element will be the dict of subsamples</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="mkShapesRDF.shapeAnalysis.runner.RunAnalysis.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mkShapesRDF</span><span class="o">.</span><span class="n">shapeAnalysis</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">RunAnalysis</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="n">aliases</span><span class="p">,</span> <span class="n">variables</span><span class="p">,</span> <span class="n">cuts</span><span class="p">,</span> <span class="n">nuisances</span><span class="p">,</span> <span class="n">lumi</span><span class="p">,</span> <span class="n">limit</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">outputFileMap</span><span class="o">=</span><span class="s1">&#39;output.root&#39;</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents first">
  
      <p>Stores arguments in the class attributes and creates all the RDataFrame objects</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>samples</code></td>
          <td>
                <code>list of tuples</code>
          </td>
          <td><p>same type as the return of the splitSamples method</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>aliases</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dict of aliases</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>variables</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dict of variables</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>cuts</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dict of cuts, contains two keys (preselections: str, cuts: dict)</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>nuisances</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>dict of nuisances</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>lumi</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>lumi in fb-1</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>limit</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>limit of events to be processed. Defaults to -1.</p></td>
          <td>
                <code>-1</code>
          </td>
        </tr>
        <tr>
          <td><code>outputFileMap</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>full path + filename of the output root file. Defaults to 'output.root'.</p></td>
          <td>
                <code>&#39;output.root&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>void</code>
          </td>
          <td><p>void</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div><h2 id="the-main-function">The main function:</h2>


<div class="doc doc-object doc-function">



<h2 id="mkShapesRDF.shapeAnalysis.runner.RunAnalysis.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mkShapesRDF</span><span class="o">.</span><span class="n">shapeAnalysis</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">RunAnalysis</span><span class="o">.</span><span class="n">run</span><span class="p">()</span></code>

</h2>


  <div class="doc doc-contents first">
  
      <p>Runs the analysis, first loads the aliases, filters with preselection the many dfs, loads systematics
loads variables, creates the results dict, splits the samples, creates the cuts/var histos, runs the analysis
and saves results.</p>

  </div>

</div><p>Runner should be provided with samples, aliases and all the other configuration dictionaries.
It will determine how to split the sample splitting and merging of results</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../config/" class="btn btn-neutral float-right" title="Configuration Folder Structure">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../config/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
